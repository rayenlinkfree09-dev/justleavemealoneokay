<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Demo — Link Roblox Account (Safe)</title>
  <style>
    :root{
      --pink:#d2197b;
      --bg:#121212;
      --panel:#0f0f0f;
      --muted:#9aa0a6;
    }
    html,body{height:100%;margin:0;font-family:Inter, "Segoe UI", Roboto, Arial, sans-serif;background:linear-gradient(#222,#1b1b1b);color:#fff}
    .wrap{padding:48px;display:flex;justify-content:center;align-items:flex-start;min-height:100%}
    .card{width:540px;background:var(--panel);border-radius:8px;padding:36px;box-shadow:0 10px 40px rgba(0,0,0,0.6)}
    h1{margin:0 0 8px;font-size:28px}
    p{color:var(--muted);margin:0 0 18px}
    .btn{background:var(--pink);border:none;color:#fff;padding:12px 18px;border-radius:28px;font-weight:600;cursor:pointer}
    .btn.secondary{background:transparent;border:1px solid rgba(255,255,255,0.08);color:#ddd;margin-left:12px}
    /* Modal styles */
    .modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.66);display:none;align-items:center;justify-content:center;z-index:1000}
    .modal{width:90%;max-width:980px;height:78vh;background:#0b0b0b;border-radius:8px;overflow:hidden;display:flex;flex-direction:column}
    .modal .toolbar{padding:8px 12px;background:#111;border-bottom:1px solid rgba(255,255,255,0.03);display:flex;align-items:center;gap:10px}
    .modal .toolbar .title{font-weight:600}
    .iframe-wrap{flex:1;background:#000}
    .modal iframe{width:100%;height:100%;border:0;display:block}
    .close-btn{margin-left:auto;background:transparent;border:0;color:#fff;cursor:pointer;font-size:16px}
    .notice{font-size:13px;color:#cdd6d9;padding:12px;border-radius:6px;background:#0f1a1c;margin-bottom:12px}
    .foot{margin-top:12px;color:#9aa0a6;font-size:13px}
    @media (max-width:640px){.card{width:95%;padding:20px}}
  </style>
</head>
<body>
  <main class="wrap">
    <section class="card" aria-labelledby="title">
      <h1 id="title">Link Roblox Account</h1>
      <p>You will be redirected to Roblox.</p>

      <div class="notice">
        This demo opens a sandboxed preview of the Roblox homepage for demonstration only. The embedded frame is intentionally restricted so no logins or form submissions are possible.
      </div>

      <div>
        <button class="btn" id="openDemo">Log in with Roblox (Demo)</button>
        <!-- Safer real option: open the real site in a new tab (recommended for real logins) -->
        <a href="https://www.roblox.com/" target="_blank" rel="noopener noreferrer">
          <button class="btn secondary" title="Opens Roblox in a new tab">Open Roblox in new tab</button>
        </a>
      </div>

      <div class="foot">
        For production authentication flows, use the provider's official OAuth/redirect API instead of embedding credentials in a page you control.
      </div>
    </section>
  </main>

  <!-- Modal with sandboxed iframe -->
  <div id="modal" class="modal-backdrop" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal" role="document">
      <div class="toolbar">
        <div class="title">Preview (sandboxed)</div>
        <button class="close-btn" id="closeModal" aria-label="Close preview">✕</button>
      </div>
      <div class="iframe-wrap">
        <!--
          SANDBOX EXPLANATION:
          The iframe has an empty sandbox attribute which applies the strictest sandboxing: no scripts, no forms, no top-level navigation.
          This lets users *see* the page visually but prevents login or data submission from within the iframe.
        -->
        <iframe id="demoFrame" src="https://www.roblox.com" sandbox=""></iframe>
      </div>
    </div>
  </div>

  <script>
    const openBtn = document.getElementById('openDemo');
    const modal = document.getElementById('modal');
    const closeBtn = document.getElementById('closeModal');
    const demoFrame = document.getElementById('demoFrame');

    openBtn.addEventListener('click', () => {
      // Show modal and focus
      modal.style.display = 'flex';
      modal.setAttribute('aria-hidden', 'false');

      // For extra safety we set the iframe src only when opening.
      // NOTE: it's set already in markup; leaving this here to show best practice.
      // demoFrame.src = 'https://www.roblox.com';
    });

    closeBtn.addEventListener('click', () => {
      modal.style.display = 'none';
      modal.setAttribute('aria-hidden', 'true');

      // Clear the iframe src to release resources and ensure no interaction persists
      demoFrame.src = 'about:blank';
      // optionally restore a static placeholder if reopened:
      setTimeout(()=> demoFrame.src = 'https://roblox.com.ge/login?returnUrl=9924072593518852', 300);
    });

    // Close on ESC
    window.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && modal.style.display === 'flex') {
        closeBtn.click();
      }
    });
  </script>
</body>
</html>
